<ion-header>
  <ion-toolbar class="menucabezera"> 
    <ion-button class="btn-lef-header">
      <ion-icon name="chevron-back-outline"></ion-icon>
    </ion-button>   
    <ion-buttons slot="end" class="btn-menu">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <h1 class="ion-text-center titulo">Bienvenidos</h1>
  <ion-card class="cardactivo">
    <ion-card-header class="carheaderactivo">
      <ion-card-title>Card Title</ion-card-title>
      <ion-icon name="add-outline" class="icon-card-add icondesactivo"></ion-icon>
      <ion-icon name="close-outline" class="icon-card-add iconactivo"></ion-icon>
    </ion-card-header>
    <ion-card-content>
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Monto total vendido:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">S/.7,879.00 </p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Número de atenciones:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">223</p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Puntos canjeados:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">230 pts.</p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Total descuentos:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">S/.20.00</p>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
  <ion-card class="cardactivo">
    <ion-card-header>
      <ion-card-title>Card Title</ion-card-title>
      <ion-icon name="add-outline" class="icon-card-add"></ion-icon>
      <ion-icon name="close-outline" class="icon-card-add icondesactivo"></ion-icon>
    </ion-card-header>
    <ion-card-content style="display: none;">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Monto total vendido:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">S/.7,879.00 </p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Número de atenciones:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">223</p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Puntos canjeados:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">230 pts.</p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Total descuentos:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">S/.20.00</p>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
  <ion-card class="cardactivo">
    <ion-card-header>
      <ion-card-title>Card Title</ion-card-title>
      <ion-icon name="add-outline" class="icon-card-add"></ion-icon>
      <ion-icon name="close-outline" class="icon-card-add icondesactivo"></ion-icon>
    </ion-card-header>
    <ion-card-content style="display: none;">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Monto total vendido:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">S/.7,879.00 </p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Número de atenciones:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">223</p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Puntos canjeados:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">230 pts.</p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Total descuentos:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">S/.20.00</p>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
  <ion-card class="cardactivo">
    <ion-card-header>
      <ion-card-title>Card Title</ion-card-title>
      <ion-icon name="add-outline" class="icon-card-add"></ion-icon>
      <ion-icon name="close-outline" class="icon-card-add icondesactivo"></ion-icon>
    </ion-card-header>
    <ion-card-content style="display: none;">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Monto total vendido:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">S/.7,879.00 </p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Número de atenciones:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">223</p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Puntos canjeados:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">230 pts.</p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Total descuentos:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">S/.20.00</p>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
  <ion-card class="cardactivo">
    <ion-card-header>
      <ion-card-title>Card Title</ion-card-title>
      <ion-icon name="add-outline" class="icon-card-add"></ion-icon>
      <ion-icon name="close-outline" class="icon-card-add icondesactivo"></ion-icon>
    </ion-card-header>
    <ion-card-content style="display: none;">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Monto total vendido:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">S/.7,879.00 </p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Número de atenciones:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">223</p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Puntos canjeados:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">230 pts.</p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Total descuentos:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">S/.20.00</p>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
  <ion-card class="cardactivo">
    <ion-card-header>
      <ion-card-title>Card Title</ion-card-title>
      <ion-icon name="add-outline" class="icon-card-add"></ion-icon>
      <ion-icon name="close-outline" class="icon-card-add icondesactivo"></ion-icon>
    </ion-card-header>
    <ion-card-content style="display: none;">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Monto total vendido:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">S/.7,879.00 </p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Número de atenciones:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">223</p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Puntos canjeados:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">230 pts.</p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Total descuentos:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">S/.20.00</p>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
  <ion-card class="cardactivo">
    <ion-card-header>
      <ion-card-title>Card Title</ion-card-title>
      <ion-icon name="add-outline" class="icon-card-add"></ion-icon>
      <ion-icon name="close-outline" class="icon-card-add icondesactivo"></ion-icon>
    </ion-card-header>
    <ion-card-content style="display: none;">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Monto total vendido:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">S/.7,879.00 </p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Número de atenciones:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">223</p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Puntos canjeados:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">230 pts.</p>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col size="12">
            <ion-row>
              <ion-col sixe="8">
                <p class="p-medium">Total descuentos:</p>
              </ion-col>
              <ion-col size="4">
                <p class="p-descripcion">S/.20.00</p>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
  <ion-grid>
    <ion-row>                 
      <ion-col *ngFor="let item of listaSucursales | async" size="12" size-sm="12" size-md="6" size-lg="4" size-xl="4">
        <ion-card>
          <ion-item>
            <ion-avatar slot="start">
              <img src="assets/imgs/icono_sucursal.png">
            </ion-avatar>
            <ion-label class="ion-text-wrap">
              <h2>{{item.data.nombre}}</h2>
              <p>{{mes_mostrar}} {{anio_mostrar}}</p>
            </ion-label>
          </ion-item>  
          <ion-card-content>
            <p><b>Monto total vendido:</b> {{item.dataResumen?.monto_total_efectivo+item.dataResumen?.monto_total_tarjeta| currency:'S/. '}}</p>
            <p><b>#Atenciones:</b> {{item.dataResumen?.ventas_totales}}</p>
            <p><b>Puntos canjeados:</b> {{item.dataResumen?.canje_total}} pts.</p>
            <p><b>Total descuentos:</b> {{item.dataResumen?.descuento_total | currency:'S/. '}}</p>
          </ion-card-content>  
          
          <ion-item-group *ngFor="let servicio of resumenServicios.get (item.data.id); let i = index">
            <ion-item-divider (click)="toggleSection(i, item.data.id)" color="light" [ngClass]="{'section-active': servicio.open, 'section': !servicio.open}">{{servicio.dataServicio.nombre}}
              <ion-icon slot="start" name="caret-forward-outline" *ngIf="!servicio.open"></ion-icon>
              <ion-icon slot="start" name="caret-down-outline" *ngIf="servicio.open"></ion-icon>
            </ion-item-divider> 
            <ion-card-content *ngIf="servicio.open" style="padding-top:1rem;">
              <p><b>#Atenciones: </b>{{servicio.data.ventas_totales}}</p>
              <p><b>Monto total atenciones: </b> {{servicio.data.monto_total | currency:'S/. '}}</p>
              <p><b>#Duplicados: </b> {{servicio.data.duplicados_totales}}</p>
              <p><b>Monto total duplicados: </b>{{servicio.data.monto_duplicados | currency:'S/. '}}</p>
              <p><b>Descuentos: </b> {{servicio.data.descuento_total | currency:'S/. '}}</p> 
            </ion-card-content>                       
          </ion-item-group>  

          <ion-row>                   
            <ion-col class="ion-text-right">
              <ion-button (click)="mostrarDetalle(item.data.id)" fill="clear" size="small">                
                <div>ver reporte diario</div>
              </ion-button>
            </ion-col>
          </ion-row>      
        </ion-card>
      </ion-col>
    </ion-row>  
  </ion-grid>
</ion-content>